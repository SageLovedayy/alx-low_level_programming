# Makefile

# Compiler
CC = gcc

# Compiler flags
FLAGS = -Wall -Werror -Wextra -pedantic

# Source files
SRC = main.c school.c

# Object files
OBJ := $(patsubst %.c,%.o,$(SRC))

# Target executable
NAME = school

# Program to delete files
RM = rm -f

# Build rule for the target executable
all: $(NAME)

# Rule to compile source files into object files
%.o: %.c m.h
	$(CC) $(FLAGS) -c $< -o $@

# Rule to link object files into the executable
$(NAME): $(OBJ)
	$(CC) $(OBJ) -o $@

# Target to clean up generated files
clean:
	$(RM) *~ $(NAME)

# Target to delete the object files
oclean:
	$(RM) $(OBJ)

# Target to delete all generated files
fclean: clean oclean

# Target to force recompilation of all source files
re: fclean all
